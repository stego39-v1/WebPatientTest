{% extends "base.html" %}

{% block title %}Пациент - Жалобы{% endblock %}

{% block content %}
<h2>Жалобы</h2>

<div class="card">
    <h3>Добавить жалобу</h3>
    <form method="POST">
        <div class="form-group">
            <label>Симптом ID:</label>
            <input type="number" name="symptom_id" required>
        </div>
        <div class="form-group">
            <label>Тяжесть:</label>
            <input type="text" name="severity" required placeholder="легкая/средняя/тяжелая">
        </div>
        <div class="form-group">
            <label>Описание:</label>
            <textarea name="description" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Добавить</button>
    </form>
</div>

<h3>История жалоб</h3>
<div class="table-responsive">
    <table>
        <thead>
            <tr>
                <th>Дата</th>
                <th>Симптом ID</th>
                <th>Тяжесть</th>
                <th>Описание</th>
            </tr>
        </thead>
        <tbody>
            {% for c in complaints %}
            <tr>
                <td>{{ c.complaint_date[:16] }}</td>
                <td>{{ c.symptom_id }}</td>
                <td>{{ c.severity }}</td>
                <td>{{ c.description or '-' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<a href="{{ url_for('patient_dashboard') }}" class="btn btn-secondary">Назад</a>
{% endblock %}