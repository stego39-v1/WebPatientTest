{% extends "base.html" %}

{% block title %}–ü–∞—Ü–∏–µ–Ω—Ç - –ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block content %}
<div class="patient-profile-layout">
    <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –ü—Ä–æ—Ñ–∏–ª—å –∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è -->
    <div>
        <div class="profile-card">
            <h3>üë§ {{ profile.surname }} {{ profile.name }} {{ profile.patronim or '' }}</h3>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div>
                    <div style="font-size: 0.8rem; color: #666;">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</div>
                    <div>{{ profile.birth_date }}</div>
                </div>
                <div>
                    <div style="font-size: 0.8rem; color: #666;">–ü–æ–ª</div>
                    <div>{{ '–ú—É–∂—Å–∫–æ–π' if profile.gender == '–º' else '–ñ–µ–Ω—Å–∫–∏–π' }}</div>
                </div>
                <div>
                    <div style="font-size: 0.8rem; color: #666;">–†–æ—Å—Ç / –í–µ—Å</div>
                    <div>{{ profile.height or '-' }} —Å–º / {{ profile.weight or '-' }} –∫–≥</div>
                </div>
                <div>
                    <div style="font-size: 0.8rem; color: #666;">Email</div>
                    <div>{{ profile.email or '-' }}</div>
                </div>
            </div>
        </div>

        <h3 style="margin: 20px 0 10px 0;">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è</h3>
        <div class="measurements-grid">
            {% for m in measurements[:6] %}
            <div class="measurement-item">
                <div><strong>{{ m.measured_at[:10] }}</strong></div>
                {% if m.glucose %}<div>–ì–ª—é–∫–æ–∑–∞: {{ m.glucose }} –º–º–æ–ª—å/–ª</div>{% endif %}
                {% if m.systolic_bp %}<div>–î–∞–≤–ª–µ–Ω–∏–µ: {{ m.systolic_bp }}/{{ m.diastolic_bp }}</div>{% endif %}
                {% if m.pulse %}<div>–ü—É–ª—å—Å: {{ m.pulse }} —É–¥/–º–∏–Ω</div>{% endif %}
                {% if m.weight %}<div>–í–µ—Å: {{ m.weight }} –∫–≥</div>{% endif %}
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –ö–Ω–æ–ø–∫–∏ -->
    <div>
        <div class="actions-card">
            <h3>–î–µ–π—Å—Ç–≤–∏—è</h3>
            <div class="action-buttons-vertical">
                <a href="{{ url_for('patient_measurements') }}" class="btn btn-primary">+ –ò–∑–º–µ—Ä–µ–Ω–∏—è</a>
                <a href="{{ url_for('patient_complaints') }}" class="btn btn-secondary">üìã –ñ–∞–ª–æ–±–∞</a>
                <a href="{{ url_for('patient_prescriptions') }}" class="btn btn-secondary">üíä –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}